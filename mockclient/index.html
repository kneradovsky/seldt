<html>
<head><title>mock client</title>
  <script language="JavaScript">
  var ws = undefined;
  function connect() {
    ws = new WebSocket(wsurl.value);
    ws.onmessage = function(message) {
      response.innerHTML = message.data;
      msghistory.innerHTML= "<hr>\n<h5>Response</h5><pre>"+message.data+"</pre>"+msghistory.innerHTML;
    }
  }
  function send() {
    response.innerHTML = "";
    msghistory.innerHTML= "<hr>\n<h5>Request</h5><pre>"+request.value+"</pre>" + msghistory.innerHTML;
    ws.send(request.value);
  }

  </script>
<body>
  <input type="text" value="ws://localhost:3040/" name="wsurl" id="wsurl"><button onClick="javascript:connect()">Connect</button><br>
  <div id="response"></div><br>
  <textarea rows="10" cols="50" id="request"></textarea><br/>
  <button onClick="javascript:send()">Send</button>
  <div class="" id="msghistory"></div>
</body>
</html>
